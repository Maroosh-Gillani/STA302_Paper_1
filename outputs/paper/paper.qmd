---
title: "The Relationship Between Bike and Automobile Thefts in Toronto (2014-2023)"
author: "Maroosh Gillani"
thanks: "Code and data are available at: https://github.com/Maroosh-Gillani/toronto-bike-and-auto-thefts "
date: "21 January 2024"
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence." ########### UPDATE THIS ############
format: pdf
number-sections: true
execute: 
  echo: false
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(dplyr)
library(here)
library(ggplot2)

# Acquiring the cleaned theft data from cleaned_data.csv
theft_data <-
  read.csv(
    file=here("outputs/data/cleaned_data.csv")
  )

# Getting the total number of bikes theft each year and renaming columns to just years
total_bike_thefts <- 
  theft_data %>%
  select(starts_with("BIKETHEFT")) %>%
  slice(n()) %>%
  rename_with(~sub("BIKETHEFT_", "", .), starts_with("BIKETHEFT_"))

# Getting the total number of automobiles theft each year and renaming the columns to just years
total_auto_thefts <- 
  theft_data %>%
  select(starts_with("AUTOTHEFT")) %>%
  slice(n()) %>%
  rename_with(~sub("AUTOTHEFT_", "", .), starts_with("AUTOTHEFT_"))
```


# Introduction



# Data and Dataset



# Variables of Interest



# Data Visualization

```{r graph1, fig.cap="Number of Bike Thefts in Toronto from 2014 - 2023", echo=FALSE}
#| label: figure-1

# total bikes theft graphed
total_bike_thefts %>%
  gather(key = "Year", value = "BikeThefts", colnames(total_bike_thefts)) %>%
  ggplot(aes(x = Year, y = BikeThefts)) +
  geom_col() +
  theme_minimal() +
  labs(x = "Year", y = "Number of Bike Thefts")
```
Some analysis about bike thefts...

```{r graph2, fig.cap="Number of Automobile Thefts in Toronto from 2014 - 2023", echo=FALSE}
#| label: figure-2

# total automobiles theft graphed
total_auto_thefts %>%
  gather(key = "Year", value = "AutoThefts", colnames(total_auto_thefts)) %>%
  ggplot(aes(x = Year, y = AutoThefts)) +
  geom_col() +
  theme_minimal() +
  labs(x = "Year", y = "Number of Automobile Thefts")
```
Some analysis about automobile thefts

https://www150.statcan.gc.ca/n1/pub/36-28-0001/2023006/article/00002-eng.htm
Above link says Canada has been facing bad inflation from early 2022. We also see sharp spike in thefts 2022 and 2023. A factor could be car theft and reselling more lucrative amid inflation, and perhaps more people need money so resorting to crime.

https://www.theglobeandmail.com/drive/mobility/article-average-price-of-a-new-car-tops-66000-as-drivers-wrestle-with-a-very/#:~:text=Globe%20and%20Mail-,Average%20price%20of%20a%20new%20car%20tops%20%2466%2C000%20as,with%20'a%20very%20surprising%20reality'&text=Brace%20yourself.,ca's%20price%20index%20report.
average car price increase in 2023 can also be a reason for highest thefts in 2023

```{r graph3, fig.cap="Side by Side Comparison of The Number of Bike and Automobile Thefts", echo=FALSE}
#| label: figure-3

# Combine both data frames
combined_data <- bind_rows(
  mutate(total_bike_thefts, Type = "Bike"),
  mutate(total_auto_thefts, Type = "Auto")
)

# Create a side-by-side bar plot
combined_data %>%
  gather(key = "Year", value = "Thefts", -Type) %>%
  ggplot(aes(x = Year, y = Thefts, fill = Type)) +
  geom_col(position = position_dodge(width = 0.8), width = 0.7) +
  theme_minimal() +
  labs(x = "Year", y = "Number of Thefts") +
  scale_fill_manual(values = c("Bike" = "navy", "Auto" = "dark red"))  # Customize fill colors
```
Some analysis about the bike thefts in contrast to auto thefts...

Source comparing car and bike thefts: https://www.smartsign.com/blog/thieves-in-transport-a-side-by-side-comparison-of-bike-car-thieves/#:~:text=In%20fact%2C%20bicycle%20owners%20are,it%20is%20not%20adequately%20locked.

bike thefts lowest when car thefts highest, thieves lazy don't wanna do physical activity with bikes lol

# Conclusion



# References


